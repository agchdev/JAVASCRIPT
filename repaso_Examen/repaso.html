<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
</head>
<body>
    <!--    EJERCICIO   
        - Ejercicio de las tareas
        - Que se oculten y se muestren
        - Que cambio de color al clickear
        - Que se guarde en el local storage
        - Que se borre todo
        - Animaciones
    -->
    <div>

        <input type="text" name="tarea">
        <button>Enviar</button>
        <button>Ocultar tareas</button>
        <button>Limpiar Tareas</button>
        
    </div>



    <script>

        // VARIABLES
        let muestra = false;
        const ul = document.createElement('ul');
        const boton =  document.querySelectorAll('button');
        const input = document.querySelector('input');
        let tareas = JSON.parse(localStorage.getItem("tareas")) || []; //JSON.parse convierte la cadena de texto del local storage en Array
        console.log(boton);
        
        function mostrarTareas(){
            limpiar();
            if (tareas.length > 0) {
                tareas.forEach(task => {
                    let li = document.createElement("li");
                    li.textContent = task;
                    ul.append(li);
                    boton[0].parentElement.append(ul);
                });
            }
        }

        function limpiar(){
            ul.innerHTML = "";
            input.value = "";
            input.focus();
        }

        document.addEventListener("DOMContentLoaded", () =>{
            mostrarTareas();

            boton[0].addEventListener("click", () => {
                let tarea = input.value.trim();
                console.log(tareas);
                if (tarea != "") {
                    tareas.push(tarea);
                    localStorage.setItem("tareas", JSON.stringify(tareas));
                }

                mostrarTareas();
            })

            boton[1].addEventListener("click", () => {
                if(!muestra){
                    console.log("dentro");
                    boton[1].textContent = "Ocultar Tareas";
                    ul.style.display = "block";
                    muestra = true;
                }else{
                    boton[1].textContent = "Mostrar Tareas";
                    muestra = false;
                    ul.style.display = "none";
                }
                
            })
        })
    </script>
</body>
</html>